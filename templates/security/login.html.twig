{% extends '@layout/base.html.twig' %}

{% set asset_group = 'auth' %}

{% block title %}Connexion – Intranet AGDUC{% endblock %}

{% block body %}
    <div class="login-wrapper">

        <div class="login-card">

            <div class="row g-0 h-100">

                <!-- ===================== -->
                <!-- COLONNE GAUCHE : FORM -->
                <!-- ===================== -->
                <div class="col-12 col-lg-6 login-left">

                    <h1 class="login-title">Se connecter</h1>

                    {# ===================== #}
                    {# ERREUR AUTHENTIFICATION #}
                    {# ===================== #}
                    {% if error %}
                        <div class="alert alert-danger mb-4">
                            {{ error.messageKey|trans(error.messageData, 'security') }}
                        </div>
                    {% endif %}

                    <form method="post" class="login-form">

                        {# ===================== #}
                        {# CSRF TOKEN #}
                        {# ===================== #}
                        <input type="hidden" name="_csrf_token"
                               value="{{ csrf_token('authenticate') }}">

                        <label for="username" class="form-label">Identifiant</label>
                        <input
                            type="text"
                            id="username"
                            name="username"
                            class="form-control login-input"
                            placeholder="email ou identifiant"
                            value="{{ last_username }}"
                            autocomplete="username"
                            required
                        >

                        <div class="mb-4 position-relative">
                            <label for="password" class="form-label">Mot de passe</label>

                            <input
                                type="password"
                                id="password"
                                name="password"
                                class="form-control login-input pe-5"
                                placeholder="************"
                                autocomplete="current-password"
                                required
                            >

                            <button
                                type="button"
                                class="login-eye-btn"
                                aria-label="Afficher ou masquer le mot de passe"
                                aria-pressed="false"
                                data-toggle-password
                            >
                                <i class="bi bi-eye" aria-hidden="true"></i>
                            </button>
                        </div>

                    </form>

                </div>

                <!-- ===================== -->
                <!-- COLONNE DROITE : BRAND -->
                <!-- ===================== -->
                <div class="col-12 col-lg-6 login-right">

                    <h2 class="login-welcome">
                        Bienvenue<br>
                        <span>sur l’intranet</span>
                    </h2>

                    <img
                        src="{{ asset('images/static/logoagduc.png') }}"
                        alt="AGDUC"
                        class="login-logo"
                    >

                    <p class="login-chatbot">
                        CHATBOT (signal ou autre)
                    </p>

                </div>

            </div>

        </div>

    </div>
{% endblock %}
